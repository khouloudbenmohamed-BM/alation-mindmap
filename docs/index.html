<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap - Multi Pages</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

/* Navigation Menuu */
#nav-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 250px;
  height: 100vh;
  background: #1e293b;
  color: white;
  padding: 20px;
  box-shadow: 2px 0 5px rgba(0,0,0,0.1);
  overflow-y: auto;
  z-index: 1000;
}

#nav-menu h2 {
  margin-bottom: 20px;
  font-size: 1.5em;
  border-bottom: 2px solid #3b82f6;
  padding-bottom: 10px;
}

.nav-item {
  padding: 12px 15px;
  margin: 5px 0;
  cursor: pointer;
  border-radius: 5px;
  transition: background 0.3s;
  background: #334155;
}

.nav-item:hover {
  background: #475569;
}

.nav-item.active {
  background: #3b82f6;
  font-weight: bold;
}

#mindmap {
  display: block;
  width: calc(100vw - 250px);
  height: 100vh;
  margin-left: 250px;
}

.markmap-dark {
  background: #27272a;
  color: white;
}

/* Toggle button for mobile */
#menu-toggle {
  display: none;
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 1001;
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
}

@media (max-width: 768px) {
  #nav-menu {
    transform: translateX(-100%);
    transition: transform 0.3s;
  }
  
  #nav-menu.open {
    transform: translateX(0);
  }
  
  #mindmap {
    width: 100vw;
    margin-left: 0;
  }
  
  #menu-toggle {
    display: block;
  }
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css">
</head>
<body>

<!-- Navigation Menu -->
<button id="menu-toggle">☰ Menu</button>
<nav id="nav-menu">
  <h2>Mindmaps</h2>
  <div id="nav-items"></div>
</nav>

<!-- Mindmap SVG -->
<svg id="mindmap"></svg>

<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script>

<script>
// Configuration des mindmaps
const mindmaps = {
  'alation-help': {
    title: 'Alation Help Center Quick Start',
    data:{"content":"Alation Help Center Quick Start","children":[{"content":"Lesson 1: Alation Help Center Overview","children":[{"content":"Overview of the Alation Help Center","children":[],"payload":{"tag":"h3","lines":"4,5"}},{"content":"Master the Search Process","children":[{"content":"Step 1: Conducting Your Initial Search","children":[],"payload":{"tag":"h4","lines":"14,15"}},{"content":"Step 2: Refining Your Results with Filters","children":[],"payload":{"tag":"h4","lines":"18,19"}},{"content":"Step 3: Utilizing Visual Cues","children":[],"payload":{"tag":"h4","lines":"22,23"}},{"content":"Step 4: Rapid Content Assessment with Preview","children":[],"payload":{"tag":"h4","lines":"26,27"}}],"payload":{"tag":"h3","lines":"10,11"}},{"content":"The Role of the Alation Help Center","children":[],"payload":{"tag":"h3","lines":"32,33"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"Lesson 2: Alation Community","children":[{"content":"Search Functionality","children":[],"payload":{"tag":"h3","lines":"50,51"}},{"content":"Community Environment","children":[{"content":"Left Sidebar","children":[],"payload":{"tag":"h4","lines":"62,63"}},{"content":"Right Sidebar","children":[],"payload":{"tag":"h4","lines":"72,73"}}],"payload":{"tag":"h3","lines":"58,59"}},{"content":"Activity Feed","children":[],"payload":{"tag":"h3","lines":"76,77"}},{"content":"Navigation Menu","children":[],"payload":{"tag":"h3","lines":"90,91"}},{"content":"Community Microsites","children":[{"content":"Ask Alation Experts","children":[],"payload":{"tag":"h4","lines":"102,103"}},{"content":"Community Hub","children":[],"payload":{"tag":"h4","lines":"108,109"}}],"payload":{"tag":"h3","lines":"98,99"}},{"content":"Resources Menu","children":[{"content":"Adoption Resources","children":[],"payload":{"tag":"h4","lines":"122,123"}},{"content":"Alation Briefs Repository","children":[],"payload":{"tag":"h4","lines":"126,127"}},{"content":"Data Culture Body of Knowledge","children":[],"payload":{"tag":"h4","lines":"132,133"}},{"content":"Alation Help Center","children":[],"payload":{"tag":"h4","lines":"138,139"}},{"content":"Community Help/FAQs","children":[],"payload":{"tag":"h4","lines":"142,143"}}],"payload":{"tag":"h3","lines":"118,119"}},{"content":"Product Menu","children":[{"content":"Product Home","children":[],"payload":{"tag":"h4","lines":"150,151"}},{"content":"Latest Showcase &amp; Roadmap","children":[],"payload":{"tag":"h4","lines":"154,155"}},{"content":"Alation Ideas","children":[],"payload":{"tag":"h4","lines":"158,159"}}],"payload":{"tag":"h3","lines":"146,147"}},{"content":"Members and Events","children":[],"payload":{"tag":"h3","lines":"162,163"}},{"content":"Your Profile","children":[{"content":"My Profile Tab","children":[],"payload":{"tag":"h4","lines":"178,179"}},{"content":"My Connections","children":[],"payload":{"tag":"h4","lines":"182,183"}},{"content":"My Contributions","children":[],"payload":{"tag":"h4","lines":"186,187"}},{"content":"My Account","children":[],"payload":{"tag":"h4","lines":"190,191"}},{"content":"My Inbox","children":[],"payload":{"tag":"h4","lines":"194,195"}}],"payload":{"tag":"h3","lines":"170,171"}},{"content":"Conclusion","children":[],"payload":{"tag":"h3","lines":"200,201"}}],"payload":{"tag":"h2","lines":"40,41"}},{"content":"Lesson 3: Alation User Documentation","children":[{"content":"Overview","children":[],"payload":{"tag":"h3","lines":"218,219"}},{"content":"Docs Home Page","children":[{"content":"Popular Documentation and What&apos;s New","children":[],"payload":{"tag":"h4","lines":"238,239"}},{"content":"All Documentation Section","children":[],"payload":{"tag":"h4","lines":"246,247"}}],"payload":{"tag":"h3","lines":"226,227"}},{"content":"Navigation and Document Features","children":[{"content":"Topic Table of Contents","children":[],"payload":{"tag":"h4","lines":"258,259"}},{"content":"Right-Side Pane","children":[],"payload":{"tag":"h4","lines":"264,265"}},{"content":"Navigation Features","children":[],"payload":{"tag":"h4","lines":"272,273"}}],"payload":{"tag":"h3","lines":"252,253"}},{"content":"Search Feature","children":[{"content":"Search Modal","children":[],"payload":{"tag":"h4","lines":"288,289"}},{"content":"Refining Search","children":[],"payload":{"tag":"h4","lines":"300,301"}},{"content":"Recent Searches","children":[],"payload":{"tag":"h4","lines":"314,315"}},{"content":"Search Notes","children":[],"payload":{"tag":"h4","lines":"324,325"}}],"payload":{"tag":"h3","lines":"280,281"}}],"payload":{"tag":"h2","lines":"212,213"}},{"content":"Lesson 4: Alation University","children":[{"content":"Overview","children":[],"payload":{"tag":"h3","lines":"340,341"}},{"content":"Site Components","children":[{"content":"Introduction Banner","children":[],"payload":{"tag":"h4","lines":"350,351"}},{"content":"Learner Home Carousels","children":[{"content":"Continue Learning Carousel","children":[],"payload":{"tag":"h5","lines":"360,361"}},{"content":"New &amp; Updated Content","children":[],"payload":{"tag":"h5","lines":"368,369"}},{"content":"Suggested for You","children":[],"payload":{"tag":"h5","lines":"374,375"}},{"content":"Inspired by Your Subjects","children":[],"payload":{"tag":"h5","lines":"380,381"}}],"payload":{"tag":"h4","lines":"354,355"}}],"payload":{"tag":"h3","lines":"346,347"}},{"content":"User Profile","children":[{"content":"Your Subjects","children":[],"payload":{"tag":"h4","lines":"398,399"}}],"payload":{"tag":"h3","lines":"390,391"}},{"content":"Search Training","children":[{"content":"Advanced Search","children":[],"payload":{"tag":"h4","lines":"424,425"}}],"payload":{"tag":"h3","lines":"412,413"}},{"content":"Course Playback Features","children":[{"content":"Playback Speed","children":[],"payload":{"tag":"h4","lines":"440,441"}},{"content":"Closed Captioning","children":[],"payload":{"tag":"h4","lines":"446,447"}},{"content":"Additional Features","children":[],"payload":{"tag":"h4","lines":"456,457"}},{"content":"Supplementary Materials","children":[],"payload":{"tag":"h4","lines":"464,465"}},{"content":"Progress Tracking","children":[],"payload":{"tag":"h4","lines":"468,469"}}],"payload":{"tag":"h3","lines":"434,435"}},{"content":"Curriculum","children":[],"payload":{"tag":"h3","lines":"474,475"}},{"content":"Playlists","children":[],"payload":{"tag":"h3","lines":"484,485"}}],"payload":{"tag":"h2","lines":"334,335"}},{"content":"Lesson 5: Alation Developer Portal","children":[{"content":"Access","children":[],"payload":{"tag":"h3","lines":"504,505"}},{"content":"Home Page","children":[],"payload":{"tag":"h3","lines":"508,509"}},{"content":"Release Selection","children":[],"payload":{"tag":"h3","lines":"518,519"}},{"content":"Guides Section","children":[],"payload":{"tag":"h3","lines":"526,527"}},{"content":"API Reference Section","children":[],"payload":{"tag":"h3","lines":"538,539"}},{"content":"Recipes Section","children":[],"payload":{"tag":"h3","lines":"548,549"}},{"content":"Search","children":[],"payload":{"tag":"h3","lines":"556,557"}}],"payload":{"tag":"h2","lines":"498,499"}},{"content":"Lesson 6: Alation Ideas Portal","children":[{"content":"Accessing the Ideas Portal","children":[],"payload":{"tag":"h3","lines":"572,573"}},{"content":"Submitting New Ideas","children":[],"payload":{"tag":"h3","lines":"584,585"}},{"content":"Conclusion","children":[],"payload":{"tag":"h3","lines":"602,603"}}],"payload":{"tag":"h2","lines":"566,567"}},{"content":"Lesson 7: Alation Knowledge Base","children":[{"content":"Access","children":[],"payload":{"tag":"h3","lines":"618,619"}},{"content":"Locating KB Articles","children":[],"payload":{"tag":"h3","lines":"626,627"}},{"content":"KB Articles by Product Area","children":[],"payload":{"tag":"h3","lines":"632,633"}},{"content":"Top Articles by Product Area","children":[],"payload":{"tag":"h3","lines":"638,639"}},{"content":"Trending Articles","children":[],"payload":{"tag":"h3","lines":"656,657"}},{"content":"Search","children":[{"content":"Example Scenario","children":[],"payload":{"tag":"h4","lines":"674,675"}}],"payload":{"tag":"h3","lines":"666,667"}},{"content":"Article Page Features","children":[{"content":"Feedback and Related Articles","children":[],"payload":{"tag":"h4","lines":"704,705"}}],"payload":{"tag":"h3","lines":"690,691"}},{"content":"Continuous Updates","children":[],"payload":{"tag":"h3","lines":"714,715"}}],"payload":{"tag":"h2","lines":"614,615"}},{"content":"Lesson 8: Alation Examples - Hedgie","children":[{"content":"What is Hedgie?","children":[],"payload":{"tag":"h3","lines":"728,729"}},{"content":"User Experience","children":[],"payload":{"tag":"h3","lines":"740,741"}},{"content":"Customization","children":[],"payload":{"tag":"h3","lines":"750,751"}},{"content":"Getting Started","children":[],"payload":{"tag":"h3","lines":"756,757"}},{"content":"Domains","children":[{"content":"DCMM Domains","children":[],"payload":{"tag":"h4","lines":"774,775"}},{"content":"Data Domains","children":[],"payload":{"tag":"h4","lines":"782,783"}},{"content":"Business Domains","children":[],"payload":{"tag":"h4","lines":"788,789"}},{"content":"Best Practices Domains","children":[],"payload":{"tag":"h4","lines":"796,797"}}],"payload":{"tag":"h3","lines":"764,765"}},{"content":"Focusing Your Experience","children":[],"payload":{"tag":"h3","lines":"802,803"}},{"content":"Industry Trends","children":[],"payload":{"tag":"h3","lines":"818,819"}},{"content":"BPR Queries","children":[],"payload":{"tag":"h3","lines":"838,839"}},{"content":"Conclusion","children":[],"payload":{"tag":"h3","lines":"860,861"}}],"payload":{"tag":"h2","lines":"722,723"}},{"content":"Lesson 9: Alation Data Culture Body of Knowledge (DCBOK)","children":[{"content":"What is DCBOK?","children":[{"content":"Build programs that make data accessible, trusted, and actionable.","children":[],"payload":{"tag":"li","lines":"878,879"}},{"content":"Develop roles and responsibilities that support long-term data maturity.","children":[],"payload":{"tag":"li","lines":"879,880"}},{"content":"Measure your organization&apos;s progress as your data culture evolves.","children":[],"payload":{"tag":"li","lines":"880,882"}}],"payload":{"tag":"h3","lines":"870,871"}},{"content":"Structure and Navigation","children":[],"payload":{"tag":"h3","lines":"884,885"}},{"content":"Your Roadmap to a Stronger Data Culture","children":[],"payload":{"tag":"h3","lines":"888,889"}}],"payload":{"tag":"h2","lines":"868,869"}},{"content":"Alation Help Center Quick Start Knowledge Check","children":[],"payload":{"tag":"h2","lines":"896,897"}}],"payload":{"tag":"h1","lines":"0,1"}},
  
  // AJOUTEZ VOS NOUVELLES MINDMAPS ICI (N'OUBLIEZ PAS LES VIRGULES)
  'get-to-know-alation': {
    title: 'Get to Know Alation',
    data: {"content":"Get to Know Alation","children":[{"content":"Introduction","children":[]},{"content":"Key Features","children":[]}]}
  },
  
  'acs-data-catalog-basics': {
    title: 'ACS - Data Catalog Basics',
    data: {"content":"Data Catalog Basics","children":[{"content":"Topic A","children":[]},{"content":"Topic B","children":[]}]}
  },
  
  'acs-catalog-search': {
    title: 'ACS - Catalog Search',
    data: {"content":"Catalog Search","children":[{"content":"Search Features","children":[]},{"content":"Advanced Search","children":[]}]}
  },
  
  'data-domains': {
    title: 'Data Domains',
    data: {"content":"Data Domains","children":[{"content":"Domain Structure","children":[]},{"content":"Domain Management","children":[]}]}
  },
  
  'customize-your-catalog': {
    title: 'Customize Your Catalog',
    data: {"content":"Customize Your Catalog","children":[{"content":"Customization Options","children":[]},{"content":"Templates","children":[]}]}
  },
  
  'acs-document-hubs': {
    title: 'ACS - Document Hubs',
    data: {"content":"Document Hubs","children":[{"content":"Hub Overview","children":[]},{"content":"Creating Hubs","children":[]}]}
  },
  
  'acs-catalog-users-groups': {
    title: 'ACS - Catalog Users and Groups',
    data: {"content":"Catalog Users and Groups","children":[{"content":"User Management","children":[]},{"content":"Group Permissions","children":[]}]}
  },
  
  'acs-home-page-customization': {
    title: 'ACS - Home Page Customization',
    data: {"content":"Home Page Customization","children":[{"content":"Layout Options","children":[]},{"content":"Widget Configuration","children":[]}]}
  },
  
  'alation-data-steward': {
    title: 'Alation Data Steward',
    data: {"content":"Alation Data Steward","children":[{"content":"Steward Roles","children":[]},{"content":"Responsibilities","children":[]}]}
  },
  
  'acs-lineage-overview': {
    title: 'ACS - Lineage Overview',
    data: {"content":"Lineage Overview","children":[{"content":"What is Lineage","children":[]},{"content":"Lineage Benefits","children":[]}]}
  },
  
  'acs-manual-lineage': {
    title: 'ACS - Manual Lineage',
    data: {"content":"Manual Lineage","children":[{"content":"Creating Manual Lineage","children":[]},{"content":"Best Practices","children":[]}]}
  },
  
  'writing-queries-compose': {
    title: 'Writing Queries in Compose',
    data: {"content":"Writing Queries in Compose","children":[{"content":"Query Basics","children":[]},{"content":"Advanced Queries","children":[]}]}
  },
  
  'query-results': {
    title: 'Query Results',
    data: {"content":"Query Results","children":[{"content":"Viewing Results","children":[]},{"content":"Exporting Data","children":[]}]}
  },
  
  'suggestion-analytics': {
    title: 'Suggestion Analytics',
    data: {"content":"Suggestion Analytics","children":[{"content":"Analytics Overview","children":[]},{"content":"Using Suggestions","children":[]}]}
  },
  
  'mastering-alation-analytics': {
    title: 'Mastering Alation Analytics',
    data: {"content":"Mastering Alation Analytics","children":[{"content":"Analytics Features","children":[]},{"content":"Reporting","children":[]}]}
  },
  
  'alation-data-products-marketplace': {
    title: 'Alation Data Products Marketplace',
    data: {"content":"Data Products Marketplace","children":[{"content":"Marketplace Overview","children":[]},{"content":"Finding Products","children":[]}]}
  },
  
  'alation-data-products': {
    title: 'Alation Data Products',
    data: {"content":"Alation Data Products","children":[{"content":"Product Types","children":[]},{"content":"Creating Products","children":[]}]}
  }
};

// Variables globales
let currentMarkmap = null;
let currentToolbar = null;

// Fonction pour charger une mindmap
function loadMindmap(key) {
  const config = mindmaps[key];
  if (!config) return;
  
  // Mettre à jour l'URL sans recharger la page
  const url = new URL(window.location);
  url.searchParams.set('map', key);
  window.history.pushState({}, '', url);
  
  // Nettoyer l'ancienne mindmap
  document.getElementById('mindmap').innerHTML = '';
  if (currentToolbar) {
    const oldToolbar = document.querySelector('.mm-toolbar');
    if (oldToolbar) oldToolbar.remove();
  }
  
  // Créer la nouvelle mindmap
  const { markmap } = window;
  currentMarkmap = markmap.Markmap.create(
    'svg#mindmap',
    markmap.deriveOptions(),
    config.data
  );
  
  // Ajouter la toolbar
  setTimeout(() => {
    currentToolbar = new markmap.Toolbar();
    currentToolbar.attach(currentMarkmap);
    const toolbarEl = currentToolbar.render();
    toolbarEl.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
    document.body.append(toolbarEl);
  });
  
  // Mettre à jour le menu actif
  document.querySelectorAll('.nav-item').forEach(item => {
    item.classList.remove('active');
  });
  document.querySelector(`[data-key="${key}"]`)?.classList.add('active');
  
  // Appliquer le thème sombre si nécessaire
  if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.classList.add('markmap-dark');
  }
}

// Générer le menu de navigation
function generateNav() {
  const navItems = document.getElementById('nav-items');
  navItems.innerHTML = '';
  
  Object.keys(mindmaps).forEach(key => {
    const div = document.createElement('div');
    div.className = 'nav-item';
    div.textContent = mindmaps[key].title;
    div.setAttribute('data-key', key);
    div.onclick = () => loadMindmap(key);
    navItems.appendChild(div);
  });
}

// Toggle menu mobile
document.getElementById('menu-toggle').onclick = function() {
  document.getElementById('nav-menu').classList.toggle('open');
};

// Initialisation
window.addEventListener('DOMContentLoaded', () => {
  generateNav();
  
  // Charger la mindmap depuis l'URL ou la première par défaut
  const urlParams = new URLSearchParams(window.location.search);
  const mapKey = urlParams.get('map') || Object.keys(mindmaps)[0];
  loadMindmap(mapKey);
});

// Gérer le bouton retour du navigateur
window.addEventListener('popstate', () => {
  const urlParams = new URLSearchParams(window.location.search);
  const mapKey = urlParams.get('map') || Object.keys(mindmaps)[0];
  loadMindmap(mapKey);
});
</script>

</body>
</html>
